
<!DOCTYPE html>
<html>
  <head>
    <title>Grid coordinates - Leaflet</title>

    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A==" crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js" integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA==" crossorigin=""></script>

    <style>
      html, body {
        height: 100%;
        margin: 0;
      }
      #map {
        width: 100%;
        height: 100%;
      }
    </style>
  </head>
  <body>
    <div id='map'></div>

    <script type="text/javascript">
      console.log(L.CRS.EPSG4326);
        // defaultWmsParams
      const map = L
        .map('map', {
          // enable L.CRS.EPSG4326 for wms
          // crs: L.CRS.EPSG4326
        })
        .setView([25.0, 121.4], 14);
      const layerConfig = {
        REQUEST: 'GetMap',
        SRS: 'EPSG:4326',
        FORMAT: 'image/jpeg',
        TRANSPARENT: 'TRUE',
        SERVICE: 'WMS',
        uppercase: true,
      };

      const basemaps = {
        // '臺灣通用電子地圖': L.tileLayer.wms('https://wms.nlsc.gov.tw/wms?LAYERS=EMAP', layerConfig),
        // '正射影像圖(臺灣通用)': L.tileLayer.wms('https://wms.nlsc.gov.tw/wms?LAYERS=PHOTO_MIX', layerConfig),
        // '地籍圖磚': L.tileLayer.wms('https://wms.nlsc.gov.tw/wms?LAYERS=DMAPS', layerConfig),

        '臺灣通用電子地圖 wmts': L.tileLayer('https://wmts.nlsc.gov.tw/wmts/EMAP5/default/GoogleMapsCompatible/{z}/{y}/{x}.png', {
          SRS: 'EPSG:4326',
        }),
        '正射影像(航照圖) wmts': L.tileLayer('https://wmts.nlsc.gov.tw/wmts/PHOTO2/default/GoogleMapsCompatible/{z}/{y}/{x}.png', {
          SRS: 'EPSG:4326',
        }),
        '正射影像(航照混合) wmts': L.tileLayer('https://wmts.nlsc.gov.tw/wmts/PHOTO_MIX/default/GoogleMapsCompatible/{z}/{y}/{x}.png', {
          SRS: 'EPSG:4326',
        }),

        // '地籍圖磚': L.tileLayer.wms('https://wms.nlsc.gov.tw/wms?LAYERS=DMAPS', layerConfig),
      };

      const overlayMaps = {
        // '臺灣通用電子地圖透明': L.tileLayer.wms('https://wms.nlsc.gov.tw/wms?LAYERS=EMAP2', layerConfig),

        '臺灣通用電子地圖透明 wmts': L.tileLayer('https://wmts.nlsc.gov.tw/wmts/EMAP2/default/GoogleMapsCompatible/{z}/{y}/{x}.png', {
          SRS: 'EPSG:4326',
        }),
        // '地籍圖磚 wmts': L.tileLayer('https://wmts.nlsc.gov.tw/wmts/DMAPS/default/GoogleMapsCompatible/{z}/{y}/{x}.png', {
        //   SRS: 'EPSG:4326',
        // }),
      };

      L.control.layers(basemaps, overlayMaps).addTo(map);

      // basemaps['臺灣通用電子地圖'].addTo(map);
      basemaps['臺灣通用電子地圖 wmts'].addTo(map);
    </script>
  </body>
</html>
